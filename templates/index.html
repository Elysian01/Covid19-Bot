<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="../static/CoronaDetection.js"></script>
    <!-- <script src="../static/predictions.js"></script> -->
    <script>
        var response = '{{ val }}';
        chat = JSON.parse(sessionStorage.getItem("chat"))
        if (chat.length == 1 && response == "Bye")
            console.log("Chat Bot On")
        else {
            user = JSON.parse(sessionStorage.getItem("user"))
                // To disable same o/p by chatbot after refreshing page
            if (user[user.length - 1] != "rasa") {
                updateChat(response, "rasa")
                displayChat()

                if (response == "Covid Test Started.") {
                    console.log("Covid Test Started.")
                    sessionStorage.setItem("coronaTest", "active")
                }
            }
        }
        window.scrollBy(0, 200);
    </script>


    <script src="https://code.jquery.com/jquery-3.5.0.js"></script>
    <link rel="stylesheet" href="../static/styles.css">

    <title>COVID BOT</title>
</head>

<body>
    <header class="nav-header">
        <div class="heading">
            <h1><span>COVID-19</span> BOT</h1>
        </div>
        <div class="info">
            <h1><a href="#">Repo</a></h1>
        </div>
    </header>

    <br><br>

    <main>
        <div class="container">
            <!-- <div class="modal fade" id="staticBackdrop" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="staticBackdropLabel">Covid-19 bot tutorial</h5>
                            <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            An awesome Covid 19 bot which helps in predicting covid, provides the statistics of the covid situation at a national level along with the capacity to answer faqs regarding the virus.
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-primary" data-dismiss="modal">Okay,understood</button>

                        </div>
                    </div>
                </div>
            </div> -->
            <section class="msger">
                <header class="msger-header">
                    <div class="msger-header-title">
                        <h3> <span>COVID-19</span> BOT</h3>
                    </div>
                    <div class="btns">
                        <button class="btn-danger btn-hover" title="It will delete all the chat" onclick="reset()">Reset</button>
                        <button class="btn-gold btn-hover" title="Wanna see, what all i can do" data-toggle="modal" data-target="#staticBackdrop">?</button>
                    </div>

                </header>

                <main class="msger-chat" id="msger-chat">
                    <div class="msg left-msg">
                        <div class="msg-bubble">
                            <div class="msg-text">
                                Hi, I am a COVID bot. 😄
                            </div>
                        </div>
                    </div>


                    <!-- <div class="msg left-msg">
                        <div class="msg-bubble">
                            <div class="msg-text">
                                Hi, welcome to SimpleChat! Go ahead and send me a message. 😄
                            </div>
                        </div>
                    </div>

                    <div class="msg right-msg">
                        <div class="msg-bubble">
                            <div class="msg-text">
                                You can change your name in JS section!
                            </div>
                        </div>
                    </div> -->

                </main>

                <form class="msger-inputarea" id="user-enter-text" onsubmit="getUserReq(event)">
                    <input type="text" class="msger-input" id="text" name="text" autofocus placeholder="Enter your message...">
                    <button type="submit" class="msger-send-btn">Send</button>
                </form>
            </section>
        </div>

        <br><br><br>
    </main>




    <script>
        const request = document.getElementById("text").value
        if (request != "") {
            const buffer = "<div class='msg right-msg'><div class='msg-bubble'><div class='msg-text'>" + request +
                "</div></div></div><div class='msg left-msg'><div class='msg-bubble'><div class='msg-text'>" + "..." +
                "</div></div></div>"
            document.querySelector(".msger-chat").innerHTML += buffer;

        }


        if (msg != "") {
            document.querySelector(".msger-chat").innerHTML += msg
        } else {

            chat = JSON.parse(sessionStorage.getItem("chat"))
            user = JSON.parse(sessionStorage.getItem("user"))
            for (let i = 1; i < user.length; i++) {
                var className = ""
                if (user[i] == "user")
                    className = "msg right-msg"
                else
                    className = "msg left-msg"

                var markdown_chat = chat[i].replace(/&lt;/g, "<")
                var markdown_chat = markdown_chat.replace(/&gt;/g, ">")

                final_msg = "<div class='" + className + "'><div class='msg-bubble'><div class='msg-text'>" +
                    markdown_chat +
                    "</div></div></div>"

                msg += final_msg

            }
            document.querySelector(".msger-chat").innerHTML += msg
        }

        chatWindow = document.querySelector(".msger-chat");
        var xH = chatWindow.scrollHeight;
        chatWindow.scrollTo(0, xH + 100);
    </script>

    <footer id="footer">
        <h2>Made By:</h2>
        <a href="#">
            <h2><span>Abhishek</span> Gupta</h2>
        </a>
        <a href="#">
            <h2><span>Ansh</span> Chhadva</h2>
        </a>

    </footer>

    <script>
        function reset() {
            sessionStorage.clear();
            const banner = "<div class='msg left-msg'><div class='msg-bubble'><div class='msg-text'>" +
                "Hi, I am a COVID bot. 😄" +
                "</div></div></div>"
            document.querySelector(".msger-chat").innerHTML = banner;
            document.getElementById("user-enter-text").style.display = "flex";
        }


        var element = document.getElementById("footer");
        element.scrollIntoView(false);


        function scrollChatWindow() {
            chatWindow = document.querySelector(".msger-chat");
            var xH = chatWindow.scrollHeight;

            chatWindow.scrollTo(0, xH + 1000);
            console.log(xH)
        }
    </script>
    <script>
        var cough_counter = 2;
        var bodyaches_counter = 2;
        var sorethroat_counter = 2;
        var diarrhea_counter = 2;
        var cold_counter = 2;
        var breathing_counter = 2;
        var headache_counter = 2;
        var fatigue_counter = 2;
        var corona_number = 0;
        var symptoms = [];

        if (sessionStorage.getItem("coronaTest") == "active") {
            console.log("startCovidTesting")
            start_chatbot();
        }

        // start_chatbot();
        function start_chatbot() {
            sessionStorage.setItem("coronaTest", "deactive")
            document.getElementById("user-enter-text").style.display = "none";
            // var response_div = document.createElement("div");
            // response_div.id = "age";
            // response_div.className = "msg right-msg";
            // var msger_chat = document.getElementById("msger-chat");
            // msger_chat.appendChild(response_div);

            // next_answer =
            //     '<div class="msg-bubble"><div class="msg-text" id="age-text"> Please enter your age<input type="number" autofocus id="age-input" class="form-control" aria-describedby="passwordHelpBlock"><button type="button" class="btn btn-gold" id="age_go_button" onclick="age()">Go Ahead</button></div></div>';
            // document.getElementById("age").innerHTML += next_answer;
            scrollChatWindow();
            age();
            // document.getElementById("age-input").onkeyup = function(e) {
            //     if (e.keyCode == 13) {
            //         age();
            //     }
            // }

        }




        function validate_age() {
            var age = document.getElementById("age-input").value;
            document.getElementById("age-input").value = "";

            if (age === "") {
                return "Please enter your age first";
            } else if (isNaN(age) || age < 1 || age > 100) {
                return "The age must be a  number <br>  between 1 and 100";
            } else {
                return "OK";
            }
        }

        function age() {
            scrollChatWindow();
            // var age_validation_result = validate_age();
            //create element
            var response_div = document.createElement("div");
            response_div.id = "temperature_question";
            response_div.className = "msg left-msg ";
            //append that element

            // if (age_validation_result != "OK") {


            //     if (document.getElementById("age_validation_result")) {
            //         var next_question = age_validation_result;
            //         document.getElementById("age_validation_result").innerHTML = "";
            //         document.getElementById("age_validation_result").innerHTML = next_question;
            //     } else {
            //         var msger_chat = document.getElementById("msger-chat");
            //         msger_chat.appendChild(response_div);
            //         var next_question = "<div id='age_validation_result'>" + age_validation_result + "</div>";
            //         document.getElementById("age-text").innerHTML += next_question;
            //     }



            // } else {


            var msger_chat = document.getElementById("msger-chat");
            msger_chat.appendChild(response_div);
            // document.getElementById("age_validation_result").innerText ="";
            var next_question =
                "<div class='msg-bubble'><div class='msg-text'>Please let us know your current body temperature in degree Fahrenheit (Normal body temperature is 98.6°F):                                                                                                          <button type='button' class='btn btn-primarys btn-sm'  onclick='normal_fever()' id='normal_fever'>Normal (96°F-98.6°F)</button>   <button type='button' class='btn btn-primarys btn-sm ' id='high_fever' onclick='high_fever()'>Fever (98.6°F-102°F)</button>             </div></div>";
            document.getElementById("temperature_question").innerHTML = next_question;
            // document.getElementById("age_go_button").disabled = true;
            updateChat(
                    "Please let us know your current body temperature in degree Fahrenheit (Normal body temperature is 98.6°F)",
                    "rasa")
                // }
            scrollChatWindow();
            // document.getElementById("age-input").onkeyup = function(e) {
            //     if (e.keyCode == 13) {
            //         age();
            //     }
            // }

        }

        function button_text_changer() {
            console.log(document.getElementById("none_of_these").innerText)
            if (typeof symptoms !== 'undefined' && symptoms.length > 0) {
                document.getElementById("none_of_these").innerText = "Confirm";
            } else {
                document.getElementById("none_of_these").innerText = "None of these";
            }
        }

        function cough_symptom(ele_id) {
            var symptom = ele_id.innerText;

            if (cough_counter % 2 == 0 || cough_counter == 0) {
                ele_id.style.backgroundColor = "red";
                cough_counter++;
                corona_number++;
                if (symptoms.indexOf(symptom) === -1) {
                    symptoms.push(symptom);
                    console.log(symptoms);
                }
            } else {

                ele_id.style.backgroundColor = "#0d6efd";
                cough_counter++;
                corona_number--;
                const index = symptoms.indexOf(symptom)
                if (index > -1) {
                    symptoms.splice(index, 1)
                }
                console.log(symptoms);

            }
            button_text_changer()

        }

        function cold_symptom(ele_id) {
            var symptom = ele_id.innerText;
            if (cold_counter % 2 == 0 || cold_counter == 0) {
                ele_id.style.backgroundColor = "red";
                cold_counter++;
                corona_number++;
                if (symptoms.indexOf(symptom) === -1) {
                    symptoms.push(symptom);
                    console.log(symptoms);
                }
            } else {

                ele_id.style.backgroundColor = "#0d6efd";
                cold_counter++;
                corona_number--;
                const index = symptoms.indexOf(symptom)
                if (index > -1) {
                    symptoms.splice(index, 1)
                }
                console.log(symptoms);
            }
            button_text_changer()
        }

        function diarrhea_symptom(ele_id) {
            var symptom = ele_id.innerText;
            if (diarrhea_counter % 2 == 0 || diarrhea_counter == 0) {
                ele_id.style.backgroundColor = "red";
                diarrhea_counter++;
                corona_number++;
                if (symptoms.indexOf(symptom) === -1) {
                    symptoms.push(symptom);
                    console.log(symptoms);
                }
            } else {

                ele_id.style.backgroundColor = "#0d6efd";
                diarrhea_counter++;
                corona_number--;
                const index = symptoms.indexOf(symptom)
                if (index > -1) {
                    symptoms.splice(index, 1)
                }
                console.log(symptoms);
            }
            button_text_changer()
        }

        function sorethroat_symptom(ele_id) {
            var symptom = ele_id.innerText;
            if (sorethroat_counter % 2 == 0 || sorethroat_counter == 0) {
                ele_id.style.backgroundColor = "red";
                sorethroat_counter++;
                corona_number++;
                if (symptoms.indexOf(symptom) === -1) {
                    symptoms.push(symptom);
                    console.log(symptoms);
                }
            } else {

                ele_id.style.backgroundColor = "#0d6efd";
                sorethroat_counter++;
                corona_number--;
                const index = symptoms.indexOf(symptom)
                if (index > -1) {
                    symptoms.splice(index, 1)
                }
                console.log(symptoms);
            }
            button_text_changer()
        }

        function bodyaches_symptom(ele_id) {
            var symptom = ele_id.innerText;
            if (bodyaches_counter % 2 == 0 || bodyaches_counter == 0) {
                ele_id.style.backgroundColor = "red";
                bodyaches_counter++;
                corona_number++;
                if (symptoms.indexOf(symptom) === -1) {
                    symptoms.push(symptom);
                    console.log(symptoms);
                }
            } else {

                ele_id.style.backgroundColor = "#0d6efd";
                bodyaches_counter++;
                corona_number--;
                const index = symptoms.indexOf(symptom)
                if (index > -1) {
                    symptoms.splice(index, 1)
                }
                console.log(symptoms);
            }
            button_text_changer()
        }

        function headache_symptom(ele_id) {
            var symptom = ele_id.innerText;
            if (headache_counter % 2 == 0 || headache_counter == 0) {
                ele_id.style.backgroundColor = "red";
                headache_counter++;
                corona_number++;
                if (symptoms.indexOf(symptom) === -1) {
                    symptoms.push(symptom);
                    console.log(symptoms);
                }
            } else {

                ele_id.style.backgroundColor = "#0d6efd";
                headache_counter++;
                corona_number--;
                const index = symptoms.indexOf(symptom)
                if (index > -1) {
                    symptoms.splice(index, 1)
                }
                console.log(symptoms);
            }
            button_text_changer()
        }

        function fatigue_symptom(ele_id) {
            var symptom = ele_id.innerText;
            if (fatigue_counter % 2 == 0 || fatigue_counter == 0) {
                ele_id.style.backgroundColor = "red";
                fatigue_counter++;
                corona_number = corona_number + 2;
                if (symptoms.indexOf(symptom) === -1) {
                    symptoms.push(symptom);
                    console.log(symptoms);
                }
            } else {

                ele_id.style.backgroundColor = "#0d6efd";
                fatigue_counter++;
                corona_number = corona_number - 2;
                const index = symptoms.indexOf(symptom)
                if (index > -1) {
                    symptoms.splice(index, 1)
                }
                console.log(symptoms);
            }
            button_text_changer()
        }

        function breathing_symptom(ele_id) {
            var symptom = ele_id.innerText;
            if (bodyaches_counter % 2 == 0 || bodyaches_counter == 0) {
                ele_id.style.backgroundColor = "red";
                breathing_counter++;
                corona_number = corona_number + 2;
                if (symptoms.indexOf(symptom) === -1) {
                    symptoms.push(symptom);
                    console.log(symptoms);
                }
            } else {

                ele_id.style.backgroundColor = "#0d6efd";
                breathing_counter++;
                corona_number = corona_number - 2;
                const index = symptoms.indexOf(symptom)
                if (index > -1) {
                    symptoms.splice(index, 1)
                }
                console.log(symptoms);
            }
            button_text_changer()
        }

        function after_travelled_history_reply() {
            //create element
            var response_div = document.createElement("div");
            response_div.id = "after_travelled_history_reply";
            response_div.className = "msg left-msg";
            //append that element
            var msger_chat = document.getElementById("msger-chat");
            msger_chat.appendChild(response_div);
            next_answer =
                "<div class='msg-bubble'><div class='msg-text'>Do you have direct contact or is taking care of a positive COVID-19 patient?<button type='button' class='btn btn-primarys btn-sm'  onclick='direct_contact_yes()' id='direct_contact_yes'>YES</button><button type='button' class='btn btn-primarys btn-sm'  onclick='direct_contact_no()' id='direct_contact_no'>NO</button></div></div>";
            document.getElementById("after_travelled_history_reply").innerHTML += next_answer;

            updateChat("Do you have direct contact or is taking care of a positive COVID-19 patient?", "rasa")
            scrollChatWindow();
        }

        function direct_contact_yes() {
            remove_buttons('direct_contact_yes')
            remove_buttons('direct_contact_no')
            corona_number = corona_number + 3;
            after_direct_question('Yes')
        }

        function direct_contact_no() {
            remove_buttons('direct_contact_yes')
            remove_buttons('direct_contact_no')
            after_direct_question('no')
        }

        function main_result() {
            var response_div = document.createElement("div");
            response_div.id = "main_result";
            response_div.className = "msg left-msg";
            var msger_chat = document.getElementById("msger-chat");
            msger_chat.appendChild(response_div);
            if (corona_number >= 0 && corona_number <= 2) {
                next_answer =
                    "<div class='msg-bubble bg-green'><div class='msg-text'>Dont worry you dont have covid-19 😃</div></div>";
                document.getElementById("main_result").innerHTML += next_answer;

                updateChat("Dont worry you dont have covid-19 ", "rasa")

                var response_div = document.createElement("div");
                response_div.id = "mainresult";
                response_div.className = "msg left-msg";
                var msger_chat = document.getElementById("msger-chat");
                msger_chat.appendChild(response_div);
                next_answer =
                    "<div class='msg-bubble bg-green'><div class='msg-text'>Maybe Stress related and observe  </div></div>";
                document.getElementById("mainresult").innerHTML += next_answer;

                updateChat("Maybe Stress related and observe ", "rasa")
            } else if (corona_number >= 3 && corona_number <= 5) {
                next_answer =
                    "<div class='msg-bubble bg-yellow' ><div class='msg-text'>Dont worry you dont have covid-19 😃 Hydrate properly and proper personal hygiene </div></div>";
                document.getElementById("main_result").innerHTML += next_answer;

                updateChat("Dont worry you dont have covid-19 Hydrate properly and proper personal hygiene", "rasa")

                var response_div = document.createElement("div");
                response_div.id = "mainresult";
                response_div.className = "msg left-msg";
                var msger_chat = document.getElementById("msger-chat");
                msger_chat.appendChild(response_div);
                next_answer =
                    "<div class='msg-bubble bg-yellow'><div class='msg-text'>Observe and re-evaluate after 2 days  </div></div>";
                document.getElementById("mainresult").innerHTML += next_answer;

                updateChat("Observe and re-evaluate after 2 days ", "rasa")
            } else if (corona_number >= 3 && corona_number <= 5) {
                next_answer =
                    "<div class='msg-bubble bg-yellow'><div class='msg-text'>It might be COVID-19  🤒</div></div>";
                document.getElementById("main_result").innerHTML += next_answer;

                updateChat("It might be COVID-19 ", "rasa")

                var response_div = document.createElement("div");
                response_div.id = "mainresult";
                response_div.className = "msg left-msg";
                var msger_chat = document.getElementById("msger-chat");
                msger_chat.appendChild(response_div);
                next_answer =
                    "<div class='msg-bubble bg-yellow'><div class='msg-text'> Don't panic Seek a consultation with your doctor 👨‍🔬👩‍⚕️</div></div>";
                document.getElementById("mainresult").innerHTML += next_answer;

                updateChat("Don't panic Seek a consultation with your doctor", "rasa")
            } else {
                next_answer =
                    "<div class='msg-bubble bg-red'><div class='msg-text'>I am sorry to say you have COVID-19 🤒</div></div><br>";
                document.getElementById("main_result").innerHTML += next_answer;

                updateChat("I am sorry to say you have COVID-19", "rasa")

                var response_div = document.createElement("div");
                response_div.id = "mainresult";
                response_div.className = "msg left-msg";
                var msger_chat = document.getElementById("msger-chat");
                msger_chat.appendChild(response_div);
                next_answer =
                    "<div class='msg-bubble bg-red'><div class='msg-text'> Please report to nearby hospital immediately 🏥 </div></div>";
                document.getElementById("mainresult").innerHTML += next_answer;

                updateChat("Please report to nearby hospital immediately", "rasa")
            }
            scrollChatWindow();
            document.getElementById("user-enter-text").style.display = "flex";
        }

        function after_direct_question(response) {
            //create element
            var response_div = document.createElement("div");
            response_div.id = "after_direct_question";
            response_div.className = "msg right-msg";
            //append that element
            var msger_chat = document.getElementById("msger-chat");
            msger_chat.appendChild(response_div);
            next_answer = "<div class='msg-bubble'><div class='msg-text'>" + response + "</div></div>";
            document.getElementById("after_direct_question").innerHTML += next_answer;
            updateChat(response, "user")

            scrollChatWindow();
            main_result();

        }

        function after_travelled_history_question(response) {
            //create element
            var response_div = document.createElement("div");
            response_div.id = "after_travelled_history_question";
            response_div.className = "msg right-msg";
            //append that element
            var msger_chat = document.getElementById("msger-chat");
            msger_chat.appendChild(response_div);
            next_answer = "<div class='msg-bubble'><div class='msg-text'>" + response + "</div></div>";
            document.getElementById("after_travelled_history_question").innerHTML += next_answer;

            updateChat(response, "user")

            scrollChatWindow();
            after_travelled_history_reply();
        }

        function travelled_recently_yes() {
            remove_buttons('travelled_recently_yes')
            remove_buttons('travelled_recently_no')
            corona_number = corona_number + 3;
            after_travelled_recently_question('Yes')
        }

        function travelled_recently_no() {
            remove_buttons('travelled_recently_yes')
            remove_buttons('travelled_recently_no')
            after_travelled_recently_question('no')
        }

        function travelled_history_yes() {
            remove_buttons('travelled_history_yes')
            remove_buttons('travelled_history_no')
            corona_number = corona_number + 3;
            after_travelled_history_question('Yes')
        }

        function travelled_history_no() {
            remove_buttons('travelled_history_yes')
            remove_buttons('travelled_history_no')
            after_travelled_history_question('no')
        }

        function after_travelled_recently_reply() {
            //create element
            var response_div = document.createElement("div");
            response_div.id = "after_travelled_recently_reply";
            response_div.className = "msg left-msg";
            //append that element
            var msger_chat = document.getElementById("msger-chat");
            msger_chat.appendChild(response_div);
            next_answer =
                "<div class='msg-bubble'><div class='msg-text'>Do you have a travel history to a COVID-19 infected area  <button type='button' class='btn btn-primarys btn-sm'  onclick='travelled_history_yes()' id='travelled_history_yes'>YES</button><button type='button' class='btn btn-primarys btn-sm'  onclick='travelled_history_no()' id='travelled_history_no'>NO</button></div></div>";
            document.getElementById("after_travelled_recently_reply").innerHTML += next_answer;
            updateChat("Do you have a travel history to a COVID-19 infected area", "rasa")
            scrollChatWindow();
        }

        function after_travelled_recently_question(response) {
            //create element
            var response_div = document.createElement("div");
            response_div.id = "after_travelled_recently_question";
            response_div.className = "msg right-msg";
            //append that element
            var msger_chat = document.getElementById("msger-chat");
            msger_chat.appendChild(response_div);
            next_answer = "<div class='msg-bubble'><div class='msg-text'>" + response + "</div></div>";
            document.getElementById("after_travelled_recently_question").innerHTML += next_answer;
            updateChat(response, "user")
            scrollChatWindow();
            after_travelled_recently_reply();
        }

        function after_symptoms_reply() {
            //create element
            var response_div = document.createElement("div");
            response_div.id = "after_symptom_reply";
            response_div.className = "msg left-msg";
            //append that element
            var msger_chat = document.getElementById("msger-chat");
            msger_chat.appendChild(response_div);
            next_answer =
                "<div class='msg-bubble'><div class='msg-text'>Have you travelled recently during the past 14 days?<button type='button' class='btn btn-primarys btn-sm'  onclick='travelled_recently_yes()' id='travelled_recently_yes'>YES</button><button type='button' class='btn btn-primarys btn-sm'  onclick='travelled_recently_no()' id='travelled_recently_no'>NO</button></div></div>";
            document.getElementById("after_symptom_reply").innerHTML += next_answer;

            updateChat("Have you travelled recently during the past 14 days?", "rasa")
            scrollChatWindow();
        }

        function after_symptoms_question() {
            //create element
            var response_div = document.createElement("div");
            response_div.id = "after_symptoms_question";
            response_div.className = "msg right-msg";
            //append that element
            var msger_chat = document.getElementById("msger-chat");
            msger_chat.appendChild(response_div);
            next_answer = "<div class='msg-bubble'><div class='msg-text'>" + symptoms + "</div></div>";
            document.getElementById("after_symptoms_question").innerHTML += next_answer;
            updateChat(symptoms.toString(), "user")
            scrollChatWindow();
            remove_buttons('cough')
            remove_buttons('cold')
            remove_buttons('sorethroat')
            remove_buttons('bodyaches')
            remove_buttons('headache')
            remove_buttons('fatigue')
            remove_buttons('diarrhea')
            remove_buttons('breathing')
            remove_buttons('none_of_these')
            after_symptoms_reply()



        }

        function after_age_question() {

            var response_div = document.createElement("div");
            response_div.id = "symptoms_selector";
            response_div.className = "msg left-msg";

            var msger_chat = document.getElementById("msger-chat");
            msger_chat.appendChild(response_div);
            next_answer =
                '<div class="msg-bubble"><div class="msg-text"> Are you experiencing any of the symptoms below (mark all those applicable) <button type="button" class="btn btn-primarys btn-sm"  onclick="cough_symptom(cough)" id="cough">Cough</button>                                  <button type="button" class="btn btn-primarys btn-sm"  onclick="cold_symptom(cold)" id="cold">Cold</button>                                      <button type="button" class="btn btn-primarys btn-sm"  onclick="diarrhea_symptom(diarrhea)" id="diarrhea">Diarrhea</button>              <button type="button" class="btn btn-primarys btn-sm"  onclick="sorethroat_symptom(sorethroat)" id="sorethroat">Sore Throat</button>            <button type="button" class="btn btn-primarys btn-sm"  onclick="bodyaches_symptom(bodyaches)" id="bodyaches">BodyAches</button> <button type="button" class="btn btn-primarys btn-sm"  onclick="headache_symptom(headache)" id="headache">Headache</button> <button type="button" class="btn btn-primarys btn-sm"  onclick="fatigue_symptom(fatigue)" id="fatigue">Fatigue</button> <button type="button" class="btn btn-primarys btn-sm"  onclick="breathing_symptom(breathing)" id="breathing">Difficulty Breathing</button><button type="button" class="btn btn-primarys btn-sm"  onclick="after_symptoms_question()" id="none_of_these">None of these</button></div></div>';
            document.getElementById("symptoms_selector").innerHTML = next_answer;
            scrollChatWindow();

            updateChat("Are you experiencing any of the symptoms below (mark all those applicable)", "rasa")
        }

        function high_fever() {
            remove_buttons("high_fever")
            remove_buttons("normal_fever")

            //create element
            var response_div = document.createElement("div");
            response_div.id = "temperature_reply";
            response_div.className = "msg right-msg";
            //append that element
            var msger_chat = document.getElementById("msger-chat");
            msger_chat.appendChild(response_div);
            next_answer = "<div class='msg-bubble'><div class='msg-text'>Fever (98.6°F-102°F)</div></div>";
            document.getElementById("temperature_reply").innerHTML += next_answer;
            updateChat("Fever (98.6°F-102°F)", "user")
            scrollChatWindow();
            after_age_question();


            corona_number++;

        }

        function normal_fever() {
            remove_buttons("high_fever")
            remove_buttons("normal_fever")

            //create element  
            var response_div = document.createElement("div");
            response_div.id = "temperature_reply";
            response_div.className = "msg right-msg";
            var msger_chat = document.getElementById("msger-chat");
            //append that element
            msger_chat.appendChild(response_div);
            next_answer = "<div class='msg-bubble'><div class='msg-text'>Normal (96°F-98.6°F)</div></div>";
            document.getElementById("temperature_reply").innerHTML += next_answer;
            updateChat("Normal (96°F-98.6°F)", "user")
            scrollChatWindow();
            after_age_question();

        }

        function remove_buttons(button_id) {
            var button_element = document.getElementById(button_id);
            button_element.style.display = "none";
        }
    </script>

</body>

</html>

<html>